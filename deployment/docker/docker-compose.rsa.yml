# Docker Compose configuration for testing RSA encryption algorithms
# Supports RSA2048, RSA3072, and RSA4096
services:
  platform:
    extends:
      file: docker-compose.yml
      service: platform
    environment:
      - PORT=50051
      - ENCRYPTION_ALGORITHM=${RSA_ALGORITHM:-RSA2048}

  key-manager:
    extends:
      file: docker-compose.yml
      service: key-manager
    environment:
      - PORT=50052
      - ENCRYPTION_ALGORITHM=${RSA_ALGORITHM:-RSA2048}
      - KEY_ROTATION_ENABLED=false

  key-access:
    extends:
      file: docker-compose.yml
      service: key-access
    environment:
      - PORT=50053
      - KEY_MANAGER_ADDR=key-manager:50052
      - ENCRYPTION_ALGORITHM=${RSA_ALGORITHM:-RSA2048}